@tailwind base;
@tailwind components;
@tailwind utilities;

@import url('https://fonts.googleapis.com/css2?family=Cousine&display=swap');

/* ── Light / Dark colour tokens (RGB channels for Tailwind opacity) ── */
:root {
  --color-ink: 32 33 34;
  --color-faint: 84 89 93;
  --color-border: 162 169 177;
  --color-surface: 248 249 250;
  --color-accent: 51 102 204;
  --color-accent-hover: 42 75 141;
  --color-warn: 179 36 36;
  --color-bg: 255 255 255;
  --color-glow: transparent;
  --shadow-glow: none;
  --color-selection: #c8ccd1;
  --color-btn-active: #e8e8e8;
}

.dark {
  --color-ink: 226 232 240;
  --color-faint: 122 139 165;
  --color-border: 30 58 95;
  --color-surface: 15 29 50;
  --color-accent: 91 154 255;
  --color-accent-hover: 125 180 255;
  --color-warn: 248 113 113;
  --color-bg: 8 15 30;
  --color-glow: rgba(56, 120, 255, 0.08);
  --shadow-glow: 0 0 20px rgba(56, 120, 255, 0.15), 0 0 3px rgba(56, 120, 255, 0.1);
  --color-selection: #1e3a5f;
  --color-btn-active: #162a4a;
}

@layer base {
  body {
    @apply font-sans text-ink bg-bg text-[15px] leading-relaxed;
    -webkit-font-smoothing: antialiased;
  }

  ::selection {
    background: var(--color-selection);
  }
}

@layer components {
  .aw-link {
    @apply text-accent hover:text-accent-hover hover:underline transition-colors duration-100;
  }

  .aw-btn {
    @apply inline-flex items-center px-3 py-1.5 text-sm font-sans font-medium
           border border-border bg-surface text-ink
           hover:bg-bg hover:border-faint
           transition-all duration-100;
  }

  .aw-btn:active {
    background: var(--color-btn-active);
  }

  .aw-btn-primary {
    @apply aw-btn bg-accent border-accent text-white
           hover:bg-accent-hover hover:border-accent-hover;
  }

  .aw-input {
    @apply w-full px-3 py-2 text-sm font-sans
           border border-border bg-bg text-ink
           focus:outline-none focus:border-accent focus:ring-1 focus:ring-accent/30
           placeholder:text-faint;
  }

  .aw-badge {
    @apply inline-block px-1.5 py-0.5 text-[11px] font-sans font-medium uppercase tracking-wider
           border border-border text-faint bg-surface;
  }

  .aw-divider {
    @apply border-t border-border;
  }

  .aw-section-heading {
    @apply font-serif text-title-md text-ink pb-1 border-b border-border mb-4;
  }
}

/* Dark-mode glow on bordered containers */
.dark .border-border {
  box-shadow: var(--shadow-glow);
}

/* Markdown article prose */
.article-prose h1 { @apply font-serif text-title-lg text-ink mt-8 mb-3 pb-1 border-b border-border; }
.article-prose h2 { @apply font-serif text-title-md text-ink mt-6 mb-2 pb-0.5 border-b border-border; }
.article-prose h3 { @apply font-sans text-base font-bold text-ink mt-5 mb-2; }
.article-prose p { @apply mb-4 text-ink leading-relaxed; }
.article-prose a { @apply aw-link; }
.article-prose ul { @apply list-disc ml-6 mb-4; }
.article-prose ol { @apply list-decimal ml-6 mb-4; }
.article-prose li { @apply mb-1; }
.article-prose blockquote {
  @apply border-l-[3px] border-border pl-4 italic text-faint my-4;
}
.article-prose code {
  @apply font-mono text-[13px] bg-surface px-1 py-0.5 border border-border;
}
.article-prose pre {
  @apply bg-surface border border-border p-4 overflow-x-auto mb-4;
}
.article-prose pre code {
  @apply border-0 bg-transparent p-0;
}
